{"version":3,"file":"nodejs-buffer.js","sourceRoot":"","sources":["../../src/lib/nodejs-buffer.ts"],"names":[],"mappings":";;;AAmBA,6EAA6E;AAC7E,6EAA6E;AAC7E,qBAAqB;AACrB,MAAM,MAAM,GAAG,aAAa,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAc,CAAA;AACjE,QAAA,YAAY,GACtB,UAAkB,EAAE,CAAC,MAAM,CAAC,EAAE,SAAS,YAAY,UAAU;IAC9D,YAAY,IAAK,UAAkB,CAAC,MAAM,CAAC;IACzC,CAAC,CAAG,UAAkB,CAAC,MAAM,CAA6B;IAC1D,CAAC,CAAC,iCAAiC,CAAC,IAAI,CAAA","sourcesContent":["type Encoding = 'utf8' | 'base64' | 'base64url'\n\ninterface NodeJSBuffer<TArrayBuffer extends ArrayBufferLike = ArrayBufferLike>\n  extends Uint8Array<TArrayBuffer> {\n  byteLength: number\n  toString(encoding?: Encoding): string\n}\n\ninterface NodeJSBufferConstructor {\n  new (input: string, encoding?: Encoding): NodeJSBuffer\n  from(\n    input: Uint8Array | ArrayBuffer | ArrayBufferView,\n  ): NodeJSBuffer<ArrayBuffer>\n  from(input: string, encoding?: Encoding): NodeJSBuffer<ArrayBuffer>\n  concat(list: readonly Uint8Array[], totalLength?: number): NodeJSBuffer\n  byteLength(input: string, encoding?: Encoding): number\n  prototype: NodeJSBuffer\n}\n\n// Avoids a direct reference to Node.js Buffer, which might not exist in some\n// environments (e.g. browsers, Deno, Bun) to prevent bundlers from trying to\n// include polyfills.\nconst BUFFER = /*#__PURE__*/ (() => 'Bu' + 'f'.repeat(2) + 'er')() as 'Buffer'\nexport const NodeJSBuffer: NodeJSBufferConstructor | null =\n  (globalThis as any)?.[BUFFER]?.prototype instanceof Uint8Array &&\n  'byteLength' in (globalThis as any)[BUFFER]\n    ? ((globalThis as any)[BUFFER] as NodeJSBufferConstructor)\n    : /* v8 ignore next -- @preserve */ null\n"]}