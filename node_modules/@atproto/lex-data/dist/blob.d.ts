import { Cid } from './cid.js';
import { LexValue } from './lex.js';
/**
 * @note {@link BlobRef} is just a {@link LexMap} with a specific shape.
 */
export type BlobRef = {
    $type: 'blob';
    mimeType: string;
    ref: Cid;
    size: number;
};
export type BlobRefValidationOptions = {
    /**
     * If `false`, skips strict CID validation of {@link BlobRef.ref}, allowing
     * any valid CID. Otherwise, validates that the CID is v1, uses the raw
     * multicodec, and has a sha256 multihash.
     *
     * @defaults to `true`
     */
    strict?: boolean;
};
export declare function isBlobRef(input: unknown, options?: BlobRefValidationOptions): input is BlobRef;
/**
 * @note {@link LegacyBlobRef} is just a {@link LexMap} with a specific shape.
 */
export type LegacyBlobRef = {
    cid: string;
    mimeType: string;
};
export declare function isLegacyBlobRef(input: unknown): input is LegacyBlobRef;
export type EnumBlobRefsOptions = BlobRefValidationOptions & {
    /**
     * @defaults to `false`
     */
    allowLegacy?: boolean;
};
/**
 * Enumerates all {@link BlobRef}s (and, optionally, {@link LegacyBlobRef}s)
 * found within a {@link LexValue}.
 */
export declare function enumBlobRefs(input: LexValue, options: EnumBlobRefsOptions & {
    allowLegacy: true;
}): Generator<BlobRef | LegacyBlobRef, void, unknown>;
export declare function enumBlobRefs(input: LexValue, options?: EnumBlobRefsOptions & {
    allowLegacy?: false;
}): Generator<BlobRef, void, unknown>;
export declare function enumBlobRefs(input: LexValue, options?: EnumBlobRefsOptions): Generator<BlobRef | LegacyBlobRef, void, unknown>;
//# sourceMappingURL=blob.d.ts.map